{"ast":null,"code":"// import React, { useState } from 'react';\n// import { useDropzone } from 'react-dropzone';\n// import axios from 'axios';\n// import Header from './Header';\n// import './LandingPage.css';\n\n// const LandingPage = ({ userName }) => {\n//     const [file, setFile] = useState(null);\n//     const [summary, setSummary] = useState('');\n//     const [notes, setNotes] = useState('');\n//     const [pptFileUrl, setPptFileUrl] = useState('');\n//     const [loading, setLoading] = useState(false);\n//     const [submitStatus, setSubmitStatus] = useState('');\n\n//     const onDrop = (acceptedFiles) => {\n//         if (acceptedFiles.length > 0 && (acceptedFiles[0].type === 'text/plain' || acceptedFiles[0].type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document')) {\n//             setFile(acceptedFiles[0]);\n//             setSubmitStatus('');\n//             setSummary('');\n//             setNotes('');\n//             setPptFileUrl(''); // Reset PPT URL on new file\n//         } else {\n//             alert('Please upload a .txt or .docx file.');\n//         }\n//     };\n\n//     const { getRootProps, getInputProps } = useDropzone({ onDrop, accept: { 'text/plain': ['.txt'], 'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'] } });\n\n//     const handleSubmit = async () => {\n//         if (!file) return alert('Please upload a file first.');\n//         setLoading(true);\n//         setSubmitStatus('Submitting...');\n//         const formData = new FormData();\n//         formData.append('file', file);\n//         try {\n//             const response = await axios.post('http://127.0.0.1:8000/api/upload/', formData, {\n//                 headers: { 'Content-Type': 'multipart/form-data' },\n//             });\n//             setSubmitStatus('File uploaded successfully!');\n//             console.log('Upload response:', response.data);\n//         } catch (error) {\n//             setSubmitStatus('Failed to upload file. Please try again.');\n//             console.error('Upload error:', error);\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     const fetchContent = async (endpoint) => {\n//         if (!file) return alert('Please upload a file first.');\n//         setLoading(true);\n//         try {\n//             let response;\n//             const fileName = encodeURIComponent(file.name);\n//             if (endpoint === 'ppt') {\n//                 response = await axios.get(`http://127.0.0.1:8000/api/generate_${endpoint}/?file=${fileName}`, {\n//                     headers: { 'Content-Type': 'application/json' },\n//                 });\n//                 console.log('PPT API response:', response.data);\n//                 if (response.data.message === 'PPT generated successfully.' && response.data.ppt_file) {\n//                     const pptUrl = `http://127.0.0.1:8000/api/${response.data.ppt_file}`; // Add /api prefix\n//                     // Fetch the PPT file as a blob to force download\n//                     const fileResponse = await axios.get(pptUrl, {\n//                         responseType: 'blob',\n//                         headers: { 'Accept': 'application/vnd.openxmlformats-officedocument.presentationml.presentation' },\n//                     });\n//                     console.log('PPT file response status:', fileResponse.status);\n//                     const url = window.URL.createObjectURL(new Blob([fileResponse.data]));\n//                     const link = document.createElement('a');\n//                     link.href = url;\n//                     link.download = 'presentation.pptx';\n//                     document.body.appendChild(link);\n//                     link.click();\n//                     document.body.removeChild(link);\n//                     window.URL.revokeObjectURL(url);\n//                     setPptFileUrl(pptUrl); // Update state for UI confirmation\n//                 } else {\n//                     throw new Error('PPT generation failed or invalid response');\n//                 }\n//             } else {\n//                 response = await axios.get(`http://127.0.0.1:8000/api/generate_${endpoint}/?file=${fileName}`, {\n//                     headers: { 'Content-Type': 'application/json' },\n//                 });\n//                 if (endpoint === 'summary') setSummary(response.data.summary || '');\n//                 else if (endpoint === 'notes') setNotes(response.data.notes || '');\n//             }\n//         } catch (error) {\n//             console.error(`Error fetching ${endpoint}:`, error.response ? error.response.data : error.message);\n//             alert(`Failed to fetch ${endpoint}. Check console for details.`);\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     return (\n//         <div className=\"landing-page\">\n//             <Header userName={userName} />\n//             <h2 className=\"page-title\">AutoReQ</h2>\n//             <div className=\"wrapper-for-drop\">\n//                 <div {...getRootProps()} className=\"dropzone\">\n//                     <input {...getInputProps()} />\n//                     <p className=\"dropzone-text\">Drag and drop a .txt or .docx file here, or click to select</p>\n//                     {file && <p className=\"file-name\">{file.name}</p>}\n//                 </div>\n//             </div>\n//             <button onClick={handleSubmit} className=\"submit-button\" disabled={loading}>\n//                 {loading ? 'Submitting...' : 'Submit'}\n//             </button>\n//             {submitStatus && <p className=\"submit-status\">{submitStatus}</p>}\n//             <div className=\"button-group\">\n//                 <button onClick={() => fetchContent('summary')} className=\"action-button\" disabled={loading}>\n//                     Generate Summary\n//                 </button>\n//                 <button onClick={() => fetchContent('notes')} className=\"action-button\" disabled={loading}>\n//                     Generate Notes\n//                 </button>\n//                 <button onClick={() => fetchContent('ppt')} className=\"action-button\" disabled={loading}>\n//                     Generate PPT\n//                 </button>\n//             </div>\n//             {(summary || notes || pptFileUrl) && (\n//                 <div className=\"content-box\">\n//                     {summary && <div className=\"content-section\"><h3>Summary</h3><p>{summary}</p></div>}\n//                     {notes && <div className=\"content-section\"><h3>Notes</h3><p>{notes}</p></div>}\n//                     {pptFileUrl && (\n//                         <div className=\"content-section\">\n//                             <h3>PPT Generated</h3>\n//                             <p>Download completed. Check your downloads folder.</p>\n//                         </div>\n//                     )}\n//                 </div>\n//             )}\n//         </div>\n//     );\n// };\n\n// export default LandingPage;","map":{"version":3,"names":[],"sources":["C:/Users/smareedu/OneDrive - Hitachi Vantara/Desktop/teams_transcript_ppt_simple/frontend/src/components/LandingPage.js"],"sourcesContent":["// import React, { useState } from 'react';\r\n// import { useDropzone } from 'react-dropzone';\r\n// import axios from 'axios';\r\n// import Header from './Header';\r\n// import './LandingPage.css';\r\n\r\n// const LandingPage = ({ userName }) => {\r\n//     const [file, setFile] = useState(null);\r\n//     const [summary, setSummary] = useState('');\r\n//     const [notes, setNotes] = useState('');\r\n//     const [pptFileUrl, setPptFileUrl] = useState('');\r\n//     const [loading, setLoading] = useState(false);\r\n//     const [submitStatus, setSubmitStatus] = useState('');\r\n\r\n//     const onDrop = (acceptedFiles) => {\r\n//         if (acceptedFiles.length > 0 && (acceptedFiles[0].type === 'text/plain' || acceptedFiles[0].type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document')) {\r\n//             setFile(acceptedFiles[0]);\r\n//             setSubmitStatus('');\r\n//             setSummary('');\r\n//             setNotes('');\r\n//             setPptFileUrl(''); // Reset PPT URL on new file\r\n//         } else {\r\n//             alert('Please upload a .txt or .docx file.');\r\n//         }\r\n//     };\r\n\r\n//     const { getRootProps, getInputProps } = useDropzone({ onDrop, accept: { 'text/plain': ['.txt'], 'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'] } });\r\n\r\n//     const handleSubmit = async () => {\r\n//         if (!file) return alert('Please upload a file first.');\r\n//         setLoading(true);\r\n//         setSubmitStatus('Submitting...');\r\n//         const formData = new FormData();\r\n//         formData.append('file', file);\r\n//         try {\r\n//             const response = await axios.post('http://127.0.0.1:8000/api/upload/', formData, {\r\n//                 headers: { 'Content-Type': 'multipart/form-data' },\r\n//             });\r\n//             setSubmitStatus('File uploaded successfully!');\r\n//             console.log('Upload response:', response.data);\r\n//         } catch (error) {\r\n//             setSubmitStatus('Failed to upload file. Please try again.');\r\n//             console.error('Upload error:', error);\r\n//         } finally {\r\n//             setLoading(false);\r\n//         }\r\n//     };\r\n\r\n//     const fetchContent = async (endpoint) => {\r\n//         if (!file) return alert('Please upload a file first.');\r\n//         setLoading(true);\r\n//         try {\r\n//             let response;\r\n//             const fileName = encodeURIComponent(file.name);\r\n//             if (endpoint === 'ppt') {\r\n//                 response = await axios.get(`http://127.0.0.1:8000/api/generate_${endpoint}/?file=${fileName}`, {\r\n//                     headers: { 'Content-Type': 'application/json' },\r\n//                 });\r\n//                 console.log('PPT API response:', response.data);\r\n//                 if (response.data.message === 'PPT generated successfully.' && response.data.ppt_file) {\r\n//                     const pptUrl = `http://127.0.0.1:8000/api/${response.data.ppt_file}`; // Add /api prefix\r\n//                     // Fetch the PPT file as a blob to force download\r\n//                     const fileResponse = await axios.get(pptUrl, {\r\n//                         responseType: 'blob',\r\n//                         headers: { 'Accept': 'application/vnd.openxmlformats-officedocument.presentationml.presentation' },\r\n//                     });\r\n//                     console.log('PPT file response status:', fileResponse.status);\r\n//                     const url = window.URL.createObjectURL(new Blob([fileResponse.data]));\r\n//                     const link = document.createElement('a');\r\n//                     link.href = url;\r\n//                     link.download = 'presentation.pptx';\r\n//                     document.body.appendChild(link);\r\n//                     link.click();\r\n//                     document.body.removeChild(link);\r\n//                     window.URL.revokeObjectURL(url);\r\n//                     setPptFileUrl(pptUrl); // Update state for UI confirmation\r\n//                 } else {\r\n//                     throw new Error('PPT generation failed or invalid response');\r\n//                 }\r\n//             } else {\r\n//                 response = await axios.get(`http://127.0.0.1:8000/api/generate_${endpoint}/?file=${fileName}`, {\r\n//                     headers: { 'Content-Type': 'application/json' },\r\n//                 });\r\n//                 if (endpoint === 'summary') setSummary(response.data.summary || '');\r\n//                 else if (endpoint === 'notes') setNotes(response.data.notes || '');\r\n//             }\r\n//         } catch (error) {\r\n//             console.error(`Error fetching ${endpoint}:`, error.response ? error.response.data : error.message);\r\n//             alert(`Failed to fetch ${endpoint}. Check console for details.`);\r\n//         } finally {\r\n//             setLoading(false);\r\n//         }\r\n//     };\r\n\r\n//     return (\r\n//         <div className=\"landing-page\">\r\n//             <Header userName={userName} />\r\n//             <h2 className=\"page-title\">AutoReQ</h2>\r\n//             <div className=\"wrapper-for-drop\">\r\n//                 <div {...getRootProps()} className=\"dropzone\">\r\n//                     <input {...getInputProps()} />\r\n//                     <p className=\"dropzone-text\">Drag and drop a .txt or .docx file here, or click to select</p>\r\n//                     {file && <p className=\"file-name\">{file.name}</p>}\r\n//                 </div>\r\n//             </div>\r\n//             <button onClick={handleSubmit} className=\"submit-button\" disabled={loading}>\r\n//                 {loading ? 'Submitting...' : 'Submit'}\r\n//             </button>\r\n//             {submitStatus && <p className=\"submit-status\">{submitStatus}</p>}\r\n//             <div className=\"button-group\">\r\n//                 <button onClick={() => fetchContent('summary')} className=\"action-button\" disabled={loading}>\r\n//                     Generate Summary\r\n//                 </button>\r\n//                 <button onClick={() => fetchContent('notes')} className=\"action-button\" disabled={loading}>\r\n//                     Generate Notes\r\n//                 </button>\r\n//                 <button onClick={() => fetchContent('ppt')} className=\"action-button\" disabled={loading}>\r\n//                     Generate PPT\r\n//                 </button>\r\n//             </div>\r\n//             {(summary || notes || pptFileUrl) && (\r\n//                 <div className=\"content-box\">\r\n//                     {summary && <div className=\"content-section\"><h3>Summary</h3><p>{summary}</p></div>}\r\n//                     {notes && <div className=\"content-section\"><h3>Notes</h3><p>{notes}</p></div>}\r\n//                     {pptFileUrl && (\r\n//                         <div className=\"content-section\">\r\n//                             <h3>PPT Generated</h3>\r\n//                             <p>Download completed. Check your downloads folder.</p>\r\n//                         </div>\r\n//                     )}\r\n//                 </div>\r\n//             )}\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default LandingPage;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}